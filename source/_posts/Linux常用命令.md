---
title: Linux常用命令
date: 2017-07-16 18:36:16
tags: Linux
---

# Linux常用命令

## 命令的基本格式

命令 [选项] [参数]

注意:个别命令使用不遵循此格式
		当有多个选项时,可以写在一起
		简化选项等于完整选项
		-a 等于 --all

查询目录中内容:ls
ls [选项] [文件或目录]
选项：
-a 显示所有文件，包含隐藏文件
-l 显示详细信息
-d 查看目录本身属性
-h 人性化显示文件大小
-i 显示inode节点（储存时生成的编码，格式化硬盘时候，分成等大的内存块4k,同时生成相应的节点表）


## 文件处理命令

### 目录和文件处理命令

#### 建立目录：mkdir

- mkdir -p [目录名]
-p 递归创建
命令英文原意:**m**a**k**e **dir**ectories

#### 切换所在目录：cd

- cd [目录]
命令英文原意:**c**hange **d**irectory

- 简化命令
cd和cd ~进入当前用户的家目录
cd - 进入上次目录
cd .. 进入上一级目录
cd .  进入当前目录

Ctrl+L 清屏
tab 可以补全目录或命令

#### 查询所在目录位置：pwd
命令英文原意:**p**rint **w**orking **d**irectory

#### 删除空目录：rmdir
- rmdir [目录名]
命令英文原意:**r**e**m**ove empty **dir**ectories

#### 删除文件或目录：rm
- rm -rf [目录名]
命令英文原意:**r**e**m**ove
- 选项： 
-r 删除目录
-f 强制

#### 复制命令：cp
- cp [选项] [原文件或目录] [目标目录]
命令英文原意：**c**op**y**
- 选项：
-r   复制目录
-p   连带文件属性复制
-d   若源文件是链接文件,则复制链接属性
-a   相当于 -pdr

#### 剪切或改名命令：mv
- mv [原文件或目录] [目标目录]
命令英文原意：**m**o**v**e

ll 等于 ls -l

#### 常用目录的作用
- /根目录
	- /bin命令保存目录（普通用户就可以读取的命令）
	- /boot启动目录，启动相关文件
	- /dev设备文件保存目录
	- /etc配置文件保存目录
	- /home普通用户的家目录
	- /lib系统库保存目录
	- /mnt系统挂载目录
	- /media挂载目录
	- /root超级用户的家目录
	- /tmp临时目录
	- /sbin命令保存目录（超级用户才能使用的目录）
	- /proc直接写入内存的
	- /sys
	- /usr系统软件资源目录
	 	- /usr/bin/系统命令（普通用户）
	 	- /usr/sbin/（超级用户）
	- /var系统相关文档内容

### 链接命令

- ln -s [原文件] [目标文件]
命令英文原意：**l**i**n**k
- 功能描述：生成链接文件
- 选项： -s 创建软链接

硬链接特征：
1、拥有相同的i节点和存储block块，可以看作是同一个文件
2、可通过i节点识别
3、不能跨分区
4、不能针对目录使用

软链接特征：
1、类似Windows快捷方式
2、软链接拥有自己的i节点和Block块，但是数据块中只保存原文件的文件名和i节点号，并没有实际的文件数据
3、lrwxrwxrwx l 软链接
4、修改任意文件，另一个文件都改变
5、删除原文件，软链接不能使用

## 文件搜索命令

### 文件搜索命令 locate 
- locate 文件名
在后台数据库中安文件名搜索，搜索速度更快
- updatedb 
更新数据库

### 命令搜索命令 whereis 和 which
- whereis 命令名
搜索命令所在路径及帮助文档所在位置
选项：
-b：只查找可执行文件
-m：只查找帮助文档

- which 文件名
搜索命令所在路径及别名

### 文件搜索命令 find
- find [搜索范围] [搜索条件]
搜索文件

- find / -name install.log
避免大范围搜索，会非常消耗系统资源
find是在系统当中搜索符合条件的文件名。如果需要匹配，使用通配符匹配，通配符是完全匹配。

- find / -iname install.log
不区分大小写

- find / -user install.log
按照所有者搜索

- find /root -nouser
查找没有所有者的文件

- find /var/log/ -mtime +10
查找10天亲修改的文件

 +10 10天以前 
 -10 10天内 
 10 10天当天 
-mtime 修改文件内容
-ctime 修改文件属性
-atime 文件访问时间

- find . -size 25k
查找文件大小是25KB的文件

-25k 小于25KB的文件
25k 等于25KB的文件
+25k 大于25KB的文件

- find . -inum 262422
查找i几点是262422的文件


find /ect -size +20k -a -size -50k
查找/etc/目录下，大于20KB并且小于50KB的文件
-a and 逻辑与
-o or 逻辑或

find /ect -size +20k -a -size -50k -exec ls -lh {} \;
查找/etc/目录下，大于20KB并且小于50KB的文件，并显示详细信息
-exec/-ok 命令 {} \; 对搜索结果执行操作

### 字符串搜索命令 grep
- grep [选项] 字符串 文件名
在文件当中匹配符合条件的字符串

选项：
-i 忽略大小写
-v 排除指定的字符串

## 帮助命令
man 命令

查看命令拥有哪个级别的帮助
man -f 命令
相当于
whereis 命令

举例：
man -5 passwd

查看和命令相关的所有帮助
man -k 命令
相当于
apropos 命令

选项帮助
命令 --help

shell内部命令帮助
help shell内部命令

详细命令info
info 命令
回车：进入子帮助页面
u：进入上层页面
n：进入下一个帮助小节
p：进入上一个帮助小节
q：退出


